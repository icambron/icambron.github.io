!function(){function t(t,e){return e=e||"","string"!=typeof t&&(t.global&&e.indexOf("g")<0&&(e+="g"),t.ignoreCase&&e.indexOf("i")<0&&(e+="i"),t.multiline&&e.indexOf("m")<0&&(e+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,e){var a=i.txt.regexen[e]||"";return"string"!=typeof a&&(a=a.source),a}),e)}function e(t,e){return t.replace(/#\{(\w+)\}/g,function(t,a){return e[a]||""})}function a(t,e,a){var n=String.fromCharCode(e);return a!==e&&(n+="-"+String.fromCharCode(a)),t.push(n),t}function n(t){var e={};for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function r(t,e,a){return a?!t||t.match(e)&&RegExp["$&"]===t:"string"==typeof t&&t.match(e)&&RegExp["$&"]===t}if(void 0===i||null===i)var i={};i.txt={},i.txt.regexen={};var l={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};i.txt.htmlEscape=function(t){return t&&t.replace(/[&"'><]/g,function(t){return l[t]})},i.txt.regexSupplant=t,i.txt.stringSupplant=e,i.txt.addCharsToCharClass=a;var s=String.fromCharCode,c=[s(32),s(133),s(160),s(5760),s(6158),s(8232),s(8233),s(8239),s(8287),s(12288)];a(c,9,13),a(c,8192,8202);var o=[s(65534),s(65279),s(65535)];a(o,8234,8238),i.txt.regexen.spaces_group=t(c.join("")),i.txt.regexen.spaces=t("["+c.join("")+"]"),i.txt.regexen.invalid_chars_group=t(o.join("")),i.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,i.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,i.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm;var x=[];a(x,1024,1279),a(x,1280,1319),a(x,11744,11775),a(x,42560,42655),a(x,1425,1471),a(x,1473,1474),a(x,1476,1477),a(x,1479,1479),a(x,1488,1514),a(x,1520,1524),a(x,64274,64296),a(x,64298,64310),a(x,64312,64316),a(x,64318,64318),a(x,64320,64321),a(x,64323,64324),a(x,64326,64335),a(x,1552,1562),a(x,1568,1631),a(x,1646,1747),a(x,1749,1756),a(x,1758,1768),a(x,1770,1775),a(x,1786,1788),a(x,1791,1791),a(x,1872,1919),a(x,2208,2208),a(x,2210,2220),a(x,2276,2302),a(x,64336,64433),a(x,64467,64829),a(x,64848,64911),a(x,64914,64967),a(x,65008,65019),a(x,65136,65140),a(x,65142,65276),a(x,8204,8204),a(x,3585,3642),a(x,3648,3662),a(x,4352,4607),a(x,12592,12677),a(x,43360,43391),a(x,44032,55215),a(x,55216,55295),a(x,65441,65500),a(x,12449,12538),a(x,12540,12542),a(x,65382,65439),a(x,65392,65392),a(x,65296,65305),a(x,65313,65338),a(x,65345,65370),a(x,12353,12438),a(x,12441,12446),a(x,13312,19903),a(x,19968,40959),a(x,173824,177983),a(x,177984,178207),a(x,194560,195103),a(x,12291,12291),a(x,12293,12293),a(x,12347,12347),i.txt.regexen.nonLatinHashtagChars=t(x.join(""));var g=[];a(g,192,214),a(g,216,246),a(g,248,255),a(g,256,591),a(g,595,596),a(g,598,599),a(g,601,601),a(g,603,603),a(g,611,611),a(g,616,616),a(g,623,623),a(g,626,626),a(g,649,649),a(g,651,651),a(g,699,699),a(g,768,879),a(g,7680,7935),i.txt.regexen.latinAccentChars=t(g.join("")),i.txt.regexen.hashSigns=/[#\uff03]/,i.txt.regexen.hashtagAlpha=t(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),i.txt.regexen.hashtagAlphaNumeric=t(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),i.txt.regexen.endHashtagMatch=t(/^(?:#{hashSigns}|:\/\/)/),i.txt.regexen.hashtagBoundary=t(/(?:^|$|[^&a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),i.txt.regexen.validHashtag=t(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),i.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@\uff20]|RT:?)/,i.txt.regexen.atSigns=/[@\uff20]/,i.txt.regexen.validMentionOrList=t("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),i.txt.regexen.validReply=t(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),i.txt.regexen.endMentionMatch=t(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),i.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@\uff20$#\uff03#{invalid_chars_group}]|^)/),i.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,i.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",i.txt.regexen),i.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),i.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),i.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),i.txt.regexen.validGTLD=t(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)(?=[^0-9a-zA-Z]|$))/),i.txt.regexen.validCCTLD=t(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^0-9a-zA-Z]|$))")),i.txt.regexen.validPunycode=t(/(?:xn--[0-9a-z]+)/),i.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),i.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),i.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/),i.txt.regexen.validPortNumber=t(/[0-9]+/),i.txt.regexen.validGeneralUrlPathChars=t(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),i.txt.regexen.validUrlBalancedParens=t(/\(#{validGeneralUrlPathChars}+\)/i),i.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),i.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),i.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,i.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,i.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),i.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,i.txt.regexen.urlHasProtocol=/^https?:\/\//i,i.txt.regexen.urlHasHttps=/^https:\/\//i,i.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,i.txt.regexen.validCashtag=t("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),i.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,i.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,i.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,i.txt.regexen.validateUrlPchar=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),i.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,i.txt.regexen.validateUrlUserinfo=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),i.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,i.txt.regexen.validateUrlIpv4=t(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),i.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,i.txt.regexen.validateUrlIp=t("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),i.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,i.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,i.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,i.txt.regexen.validateUrlDomain=t(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),i.txt.regexen.validateUrlHost=t("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),i.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,i.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,i.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,i.txt.regexen.validateUrlUnicodeDomain=t(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),i.txt.regexen.validateUrlUnicodeHost=t("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),i.txt.regexen.validateUrlPort=/[0-9]{1,5}/,i.txt.regexen.validateUrlUnicodeAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),i.txt.regexen.validateUrlAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),i.txt.regexen.validateUrlPath=t(/(\/#{validateUrlPchar}*)*/i),i.txt.regexen.validateUrlQuery=t(/(#{validateUrlPchar}|\/|\?)*/i),i.txt.regexen.validateUrlFragment=t(/(#{validateUrlPchar}|\/|\?)*/i),i.txt.regexen.validateUrlUnencoded=t("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var h={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},u={disabled:!0,readonly:!0,multiple:!0,checked:!0};i.txt.tagAttrs=function(t){var e="";for(var a in t){var n=t[a];u[a]&&(n=n?a:null),null!=n&&(e+=" "+i.txt.htmlEscape(a)+'="'+i.txt.htmlEscape(n.toString())+'"')}return e},i.txt.linkToText=function(t,a,n,r){return r.suppressNoFollow||(n.rel="nofollow"),r.linkAttributeBlock&&r.linkAttributeBlock(t,n),r.linkTextBlock&&(a=r.linkTextBlock(t,a)),e("<a#{attr}>#{text}</a>",{text:a,attr:i.txt.tagAttrs(n)})},i.txt.linkToTextWithSymbol=function(t,e,a,n,r){var l=r.symbolTag?"<"+r.symbolTag+">"+e+"</"+r.symbolTag+">":e;a=i.txt.htmlEscape(a);var s=r.textWithSymbolTag?"<"+r.textWithSymbolTag+">"+a+"</"+r.textWithSymbolTag+">":a;return r.usernameIncludeSymbol||!e.match(i.txt.regexen.atSigns)?i.txt.linkToText(t,l+s,n,r):l+i.txt.linkToText(t,s,n,r)},i.txt.linkToHashtag=function(t,e,a){var r=e.substring(t.indices[0],t.indices[0]+1),l=i.txt.htmlEscape(t.hashtag),s=n(a.htmlAttrs||{});return s.href=a.hashtagUrlBase+l,s.title="#"+l,s["class"]=a.hashtagClass,l.charAt(0).match(i.txt.regexen.rtl_chars)&&(s["class"]+=" rtl"),a.targetBlank&&(s.target="_blank"),i.txt.linkToTextWithSymbol(t,r,l,s,a)},i.txt.linkToCashtag=function(t,e,a){var r=i.txt.htmlEscape(t.cashtag),l=n(a.htmlAttrs||{});return l.href=a.cashtagUrlBase+r,l.title="$"+r,l["class"]=a.cashtagClass,a.targetBlank&&(l.target="_blank"),i.txt.linkToTextWithSymbol(t,"$",r,l,a)},i.txt.linkToMentionAndList=function(t,e,a){var r=e.substring(t.indices[0],t.indices[0]+1),l=i.txt.htmlEscape(t.screenName),s=i.txt.htmlEscape(t.listSlug),c=t.listSlug&&!a.suppressLists,o=n(a.htmlAttrs||{});return o["class"]=c?a.listClass:a.usernameClass,o.href=c?a.listUrlBase+l+s:a.usernameUrlBase+l,c||a.suppressDataScreenName||(o["data-screen-name"]=l),a.targetBlank&&(o.target="_blank"),i.txt.linkToTextWithSymbol(t,r,c?l+s:l,o,a)},i.txt.linkToUrl=function(t,e,a){var r=t.url,l=r,s=i.txt.htmlEscape(l),c=a.urlEntities&&a.urlEntities[r]||t;c.display_url&&(s=i.txt.linkTextWithEntity(c,a));var o=n(a.htmlAttrs||{});return r.match(i.txt.regexen.urlHasProtocol)||(r="http://"+r),o.href=r,a.targetBlank&&(o.target="_blank"),a.urlClass&&(o["class"]=a.urlClass),a.urlTarget&&(o.target=a.urlTarget),!a.title&&c.display_url&&(o.title=c.expanded_url),i.txt.linkToText(t,s,o,a)},i.txt.linkTextWithEntity=function(t,a){var n=t.display_url,r=t.expanded_url,l=n.replace(/\u2026/g,"");if(-1!=r.indexOf(l)){var s=r.indexOf(l),c={displayUrlSansEllipses:l,beforeDisplayUrl:r.substr(0,s),afterDisplayUrl:r.substr(s+l.length),precedingEllipsis:n.match(/^\u2026/)?"\u2026":"",followingEllipsis:n.match(/\u2026$/)?"\u2026":""};for(var o in c)c.hasOwnProperty(o)&&(c[o]=i.txt.htmlEscape(c[o]));return c.invisible=a.invisibleTagAttrs,e("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",c)}return n},i.txt.autoLinkEntities=function(t,e,a){a=n(a||{}),a.hashtagClass=a.hashtagClass||"tweet-url hashtag",a.hashtagUrlBase=a.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",a.cashtagClass=a.cashtagClass||"tweet-url cashtag",a.cashtagUrlBase=a.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",a.listClass=a.listClass||"tweet-url list-slug",a.usernameClass=a.usernameClass||"tweet-url username",a.usernameUrlBase=a.usernameUrlBase||"https://twitter.com/",a.listUrlBase=a.listUrlBase||"https://twitter.com/",a.htmlAttrs=i.txt.extractHtmlAttrsFromOptions(a),a.invisibleTagAttrs=a.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var r,l,s;if(a.urlEntities){for(r={},l=0,s=a.urlEntities.length;l<s;l++)r[a.urlEntities[l].url]=a.urlEntities[l];a.urlEntities=r}var c="",o=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var x=a.htmlEscapeNonEntities?i.txt.htmlEscape:function(t){return t},l=0;l<e.length;l++){var g=e[l];c+=x(t.substring(o,g.indices[0])),g.url?c+=i.txt.linkToUrl(g,t,a):g.hashtag?c+=i.txt.linkToHashtag(g,t,a):g.screenName?c+=i.txt.linkToMentionAndList(g,t,a):g.cashtag&&(c+=i.txt.linkToCashtag(g,t,a)),o=g.indices[1]}return c+=x(t.substring(o,t.length))},i.txt.autoLinkWithJSON=function(t,e,a){var n=[];for(var r in e)n=n.concat(e[r]);for(var l=0;l<n.length;l++)entity=n[l],entity.screen_name?entity.screenName=entity.screen_name:entity.text&&(entity.hashtag=entity.text);return i.txt.modifyIndicesFromUnicodeToUTF16(t,n),i.txt.autoLinkEntities(t,n,a)},i.txt.extractHtmlAttrsFromOptions=function(t){var e={};for(var a in t){var n=t[a];h[a]||(u[a]&&(n=n?a:null),null!=n&&(e[a]=n))}return e},i.txt.autoLink=function(t,e){var a=i.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkUsernamesOrLists=function(t,e){var a=i.txt.extractMentionsOrListsWithIndices(t);return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkHashtags=function(t,e){var a=i.txt.extractHashtagsWithIndices(t);return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkCashtags=function(t,e){var a=i.txt.extractCashtagsWithIndices(t);return i.txt.autoLinkEntities(t,a,e)},i.txt.autoLinkUrlsCustom=function(t,e){var a=i.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return i.txt.autoLinkEntities(t,a,e)},i.txt.removeOverlappingEntities=function(t){t.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var e=t[0],a=1;a<t.length;a++)e.indices[1]>t[a].indices[0]?(t.splice(a,1),a--):e=t[a]},i.txt.extractEntitiesWithIndices=function(t,e){var a=i.txt.extractUrlsWithIndices(t,e).concat(i.txt.extractMentionsOrListsWithIndices(t)).concat(i.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(i.txt.extractCashtagsWithIndices(t));return 0==a.length?[]:(i.txt.removeOverlappingEntities(a),a)},i.txt.extractMentions=function(t){for(var e=[],a=i.txt.extractMentionsWithIndices(t),n=0;n<a.length;n++){var r=a[n].screenName;e.push(r)}return e},i.txt.extractMentionsWithIndices=function(t){for(var e,a=[],n=i.txt.extractMentionsOrListsWithIndices(t),r=0;r<n.length;r++)e=n[r],""==e.listSlug&&a.push({screenName:e.screenName,indices:e.indices});return a},i.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(i.txt.regexen.atSigns))return[];var e=[];return t.replace(i.txt.regexen.validMentionOrList,function(t,a,n,r,l,s,c){if(!c.slice(s+t.length).match(i.txt.regexen.endMentionMatch)){l=l||"";var o=s+a.length,x=o+r.length+l.length+1;e.push({screenName:r,listSlug:l,indices:[o,x]})}}),e},i.txt.extractReplies=function(t){if(!t)return null;var e=t.match(i.txt.regexen.validReply);return!e||RegExp.rightContext.match(i.txt.regexen.endMentionMatch)?null:e[1]},i.txt.extractUrls=function(t,e){for(var a=[],n=i.txt.extractUrlsWithIndices(t,e),r=0;r<n.length;r++)a.push(n[r].url);return a},i.txt.extractUrlsWithIndices=function(t,e){if(e||(e={extractUrlsWithoutProtocol:!0}),!t||(e.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];for(var a=[];i.txt.regexen.extractUrl.exec(t);){var n=RegExp.$2,r=RegExp.$3,l=RegExp.$4,s=RegExp.$5,c=RegExp.$7,o=i.txt.regexen.extractUrl.lastIndex,x=o-r.length;if(l)r.match(i.txt.regexen.validTcoUrl)&&(r=RegExp.lastMatch,o=x+r.length),a.push({url:r,indices:[x,o]});else{if(!e.extractUrlsWithoutProtocol||n.match(i.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var g=null,h=!1,u=0;if(s.replace(i.txt.regexen.validAsciiDomain,function(t){var e=s.indexOf(t,u);u=e+t.length,g={url:t,indices:[x+e,x+u]},(h=t.match(i.txt.regexen.invalidShortDomain))||a.push(g)}),null==g)continue;c&&(h&&a.push(g),g.url=r.replace(s,g.url),g.indices[1]=o)}}return a},i.txt.extractHashtags=function(t){for(var e=[],a=i.txt.extractHashtagsWithIndices(t),n=0;n<a.length;n++)e.push(a[n].hashtag);return e},i.txt.extractHashtagsWithIndices=function(t,e){if(e||(e={checkUrlOverlap:!0}),!t||!t.match(i.txt.regexen.hashSigns))return[];var a=[];if(t.replace(i.txt.regexen.validHashtag,function(t,e,n,r,l,s){if(!s.slice(l+t.length).match(i.txt.regexen.endHashtagMatch)){var c=l+e.length,o=c+r.length+1;a.push({hashtag:r,indices:[c,o]})}}),e.checkUrlOverlap){var n=i.txt.extractUrlsWithIndices(t);if(n.length>0){var r=a.concat(n);i.txt.removeOverlappingEntities(r),a=[];for(var l=0;l<r.length;l++)r[l].hashtag&&a.push(r[l])}}return a},i.txt.extractCashtags=function(t){for(var e=[],a=i.txt.extractCashtagsWithIndices(t),n=0;n<a.length;n++)e.push(a[n].cashtag);return e},i.txt.extractCashtagsWithIndices=function(t){if(!t||-1==t.indexOf("$"))return[];var e=[];return t.replace(i.txt.regexen.validCashtag,function(t,a,n,r,i){var l=i+a.length,s=l+r.length+1;e.push({cashtag:r,indices:[l,s]})}),e},i.txt.modifyIndicesFromUnicodeToUTF16=function(t,e){i.txt.convertUnicodeIndices(t,e,!1)},i.txt.modifyIndicesFromUTF16ToUnicode=function(t,e){i.txt.convertUnicodeIndices(t,e,!0)},i.txt.getUnicodeTextLength=function(t){return t.replace(i.txt.regexen.non_bmp_code_pairs," ").length},i.txt.convertUnicodeIndices=function(t,e,a){if(0!=e.length){var n=0,r=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var i=0,l=e[0];n<t.length;){if(l.indices[0]==(a?n:r)){var s=l.indices[1]-l.indices[0];if(l.indices[0]=a?r:n,l.indices[1]=l.indices[0]+s,++i==e.length)break;l=e[i]}var c=t.charCodeAt(n);55296<=c&&c<=56319&&n<t.length-1&&56320<=(c=t.charCodeAt(n+1))&&c<=57343&&n++,r++,n++}}},i.txt.splitTags=function(t){for(var e,a,n=t.split("<"),r=[],i=0;i<n.length;i+=1)if(a=n[i]){e=a.split(">");for(var l=0;l<e.length;l+=1)r.push(e[l])}else r.push("");return r},i.txt.hitHighlight=function(t,e,a){var n="em";if(e=e||[],a=a||{},0===e.length)return t;var r,l,s,c,o,x,g,h=a.tag||n,u=["<"+h+">","</"+h+">"],d=i.txt.splitTags(t),v="",m=0,p=d[0],f=0,U=0,C=!1,b=p,k=[];for(r=0;r<e.length;r+=1)for(l=0;l<e[r].length;l+=1)k.push(e[r][l]);for(s=0;s<k.length;s+=1){for(c=k[s],o=u[s%2],x=!1;null!=p&&c>=f+p.length;)v+=b.slice(U),C&&c===f+b.length&&(v+=o,x=!0),d[m+1]&&(v+="<"+d[m+1]+">"),f+=b.length,U=0,m+=2,p=d[m],b=p,C=!1;x||null==p?x||(x=!0,v+=o):(g=c-f,v+=b.slice(U,g)+o,U=g,C=s%2==0)}if(null!=p)for(U<b.length&&(v+=b.slice(U)),s=m+1;s<d.length;s+=1)v+=s%2==0?d[s]:"<"+d[s]+">";return v};var d=[s(65534),s(65279),s(65535),s(8234),s(8235),s(8236),s(8237),s(8238)];i.txt.getTweetLength=function(t,e){e||(e={short_url_length:22,short_url_length_https:23});var a=i.txt.getUnicodeTextLength(t),n=i.txt.extractUrlsWithIndices(t);i.txt.modifyIndicesFromUTF16ToUnicode(t,n);for(var r=0;r<n.length;r++)a+=n[r].indices[0]-n[r].indices[1],n[r].url.toLowerCase().match(i.txt.regexen.urlHasHttps)?a+=e.short_url_length_https:a+=e.short_url_length;return a},i.txt.isInvalidTweet=function(t){if(!t)return"empty";if(i.txt.getTweetLength(t)>140)return"too_long";for(var e=0;e<d.length;e++)if(t.indexOf(d[e])>=0)return"invalid_characters";return!1},i.txt.isValidTweetText=function(t){return!i.txt.isInvalidTweet(t)},i.txt.isValidUsername=function(t){if(!t)return!1;var e=i.txt.extractMentions(t);return 1===e.length&&e[0]===t.slice(1)};var v=t(/^#{validMentionOrList}$/);if(i.txt.isValidList=function(t){var e=t.match(v);return!(!e||""!=e[1]||!e[4])},i.txt.isValidHashtag=function(t){if(!t)return!1;var e=i.txt.extractHashtags(t);return 1===e.length&&e[0]===t.slice(1)},i.txt.isValidUrl=function(t,e,a){if(null==e&&(e=!0),null==a&&(a=!0),!t)return!1;var n=t.match(i.txt.regexen.validateUrlUnencoded);if(!n||n[0]!==t)return!1;var l=n[1],s=n[2],c=n[3],o=n[4],x=n[5];return!!((!a||r(l,i.txt.regexen.validateUrlScheme)&&l.match(/^https?$/i))&&r(c,i.txt.regexen.validateUrlPath)&&r(o,i.txt.regexen.validateUrlQuery,!0)&&r(x,i.txt.regexen.validateUrlFragment,!0))&&(e&&r(s,i.txt.regexen.validateUrlUnicodeAuthority)||!e&&r(s,i.txt.regexen.validateUrlAuthority))},"undefined"!=typeof module&&module.exports&&(module.exports=i.txt),"undefined"!=typeof window)if(window.twttr)for(var m in i)window.twttr[m]=i[m];else window.twttr=i}();